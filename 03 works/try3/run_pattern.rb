
# buf = 'B(R01).+(1.2).-(5).*(10).put(3..5 7).zero?'
# pat = /[^\(.*\..*\)]\./
# pat = /.(?=([^\(]\([^\)]\))*(?![^\)]\)))/
buf = 'a,"b,c",d,"e,f,g",h'
pat = /,(?=([^"]"[^"]")*(?![^"]"))/
pat = /\.(?=([^\(]\([^\)]\))*(?![^\(\)]\)))/
a = buf.split(pat)
puts buf
puts a
# a
# "b,c"
# d
# "e
# f,g"
# h

################################


